{
  "db": "PostgreSQL",
  "476b5489b82222dfe0880ed5ecc29710e1d067d003edd44478424c182ada43e0": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM file WHERE id = $1"
  },
  "54b8e5ad4ab8cd844e2e67fdb1ba91a69cb94cbcbfbc86e4a23eb541958f1f4b": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "fullname",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "sizebytes",
          "ordinal": 3,
          "type_info": "Int8"
        },
        {
          "name": "downloads",
          "ordinal": 4,
          "type_info": "Int4"
        },
        {
          "name": "average_rating",
          "ordinal": 5,
          "type_info": "Float4"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Varchar",
          "Int4",
          "Float4",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE file SET fullname = $1, downloads = $2, average_rating = $3 WHERE id = $4 RETURNING *"
  },
  "7a15aa6165df366be536f5dbedd54fc276d2bbe91fadce032488a4ba909e2529": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "nozzle_size_mm",
          "ordinal": 1,
          "type_info": "Float8"
        },
        {
          "name": "bed_temp_celsius",
          "ordinal": 2,
          "type_info": "Int4"
        },
        {
          "name": "extruder_temp",
          "ordinal": 3,
          "type_info": "Int4"
        },
        {
          "name": "successful",
          "ordinal": 4,
          "type_info": "Bool"
        },
        {
          "name": "filament",
          "ordinal": 5,
          "type_info": "Text"
        },
        {
          "name": "filament_type",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "printer",
          "ordinal": 7,
          "type_info": "Text"
        },
        {
          "name": "gcode_id",
          "ordinal": 8,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        true,
        true,
        true,
        false,
        null,
        null,
        null,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "select pr.id as id, nozzle_size_mm, bed_temp_celsius, extruder_temp, successful,\n            concat(mb.full_name, ' ', m.description) as filament,\n            concat(mat_type, '') as filament_type, concat(pb.full_name, ' ', model) as printer, g.id as gcode_id\n        from print pr\n            left join material m on m.id = pr.material_fk\n            left join printer p on p.id = pr.printer_fk\n            left join gcode g on g.id = pr.gcode_fk\n            left join material_brand mb on mb.id = m.material_brand_fk\n            LEFT JOIN printer_brand pb on pb.id = p.printer_brand_fk\n            left join file f on f.id = g.file_pk\n        where f.id = $1\n        ORDER by id LIMIT $2 OFFSET $3"
  },
  "c721befa5e85b0b3d90169d0284e36fde0d677fc1fc02376df6755aabf77a540": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "user_name",
          "ordinal": 1,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM user_account LIMIT $1 OFFSET $2"
  },
  "c8db7240154e7037d1ae782be71cb9349c71f2898db4023915fb825130755580": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "fullname",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "sizebytes",
          "ordinal": 3,
          "type_info": "Int8"
        },
        {
          "name": "downloads",
          "ordinal": 4,
          "type_info": "Int4"
        },
        {
          "name": "average_rating",
          "ordinal": 5,
          "type_info": "Float4"
        },
        {
          "name": "user_account_pk",
          "ordinal": 6,
          "type_info": "Uuid"
        },
        {
          "name": "roles_pk",
          "ordinal": 7,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "\nselect id, fullname, created, sizebytes, downloads, average_rating, fpu.user_account_pk, fpu.roles_pk from file\nleft join files_per_user fpu on file.id = fpu.files_pk\nwhere fpu.user_account_pk = $1\nunion\nSELECT file.*, files_per_user.user_account_pk, files_per_user.roles_pk\nFROM file\n         JOIN files_per_user ON file.id = files_per_user.files_pk\nWHERE file.id IN (\n    SELECT files_pk\n    FROM files_per_user\n    GROUP BY files_pk\n    HAVING COUNT(*) = 1\n) LIMIT $2 OFFSET $3"
  },
  "eba7d786c449c85aaf884ba52aad19e329ccdc817475fc7fa9147f8e237211e7": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "fullname",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "sizebytes",
          "ordinal": 3,
          "type_info": "Int8"
        },
        {
          "name": "downloads",
          "ordinal": 4,
          "type_info": "Int4"
        },
        {
          "name": "average_rating",
          "ordinal": 5,
          "type_info": "Float4"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Varchar",
          "Int4",
          "Float4",
          "Int8",
          "Uuid"
        ]
      }
    },
    "query": "\nWITH inserted_file AS (\n    INSERT INTO file (fullname, downloads, average_rating, sizebytes)\n        VALUES ($1, $2, $3, $4)\n        RETURNING id, fullname, created, sizebytes, downloads, average_rating\n), inserted_files_per_user AS (\n    INSERT INTO files_per_user (user_account_pk, roles_pk, files_pk)\n        VALUES ($5, 'owner', (SELECT id FROM inserted_file))\n        RETURNING user_account_pk, roles_pk, files_pk\n)\nSELECT inserted_file.id, inserted_file.fullname, inserted_file.created, inserted_file.sizebytes, inserted_file.downloads, inserted_file.average_rating\nFROM inserted_file;\n"
  },
  "f8cee2d663100ff13f0784bcf0aa779ea8ee27d14e7698fa5a158bfaa11d027c": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "fullname",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "sizebytes",
          "ordinal": 3,
          "type_info": "Int8"
        },
        {
          "name": "downloads",
          "ordinal": 4,
          "type_info": "Int4"
        },
        {
          "name": "average_rating",
          "ordinal": 5,
          "type_info": "Float4"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT * FROM file WHERE id = $1"
  }
}